<!DOCTYPE html>
<html>
<head>
    <title>Random Data Page</title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vexflow/1.2.90/vexflow-min.js"></script>
    <script src="https://rawgit.com/0xfe/vexchords/master/releases/vexchords-min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
    <script src="/static/vexchords.dev.js"></script>
</head>
<body>
    <h1>Random Data Page</h1>
    <button id="updateButton">Update Paragraph</button>
    <p id="dataParagraph">Click the button to load random data.</p>

    <script>
        const updateButton = document.getElementById('updateButton');
        const dataParagraph = document.getElementById('dataParagraph');
        updateButton.addEventListener('click', () => {
            fetch('/data')
                .then(response => response.json())
                .then(data => {
                    // // Generate a random index
                    const randomIndex = Math.floor(Math.random() * data.length);

                    // // Get the random row from the data
                    const randomRow = data[randomIndex];

                    // // Update the paragraph with the random row
                    dataParagraph.textContent = JSON.stringify(randomRow);
                    // dataParagraph.textContent = data;
                })
                .catch(error => console.error(error));
        });
    </script>

    <canvas id='canvas'></canvas>
    <script>
        // Initialize a new chord chart
        var ctx = document.getElementById('canvas').getContext('2d');
        ctx.canvas.width  = 100;
        ctx.canvas.height = 120;
        const ukeChord = new Vex.Flow.UkuleleChord(ctx);

        // Define the chord 
        var chord = ["A", "E", "C#", "A"];

        // Draw the chord chart
        ukeChord.draw({chord: chord});
    </script>
    
</body>
</html>

