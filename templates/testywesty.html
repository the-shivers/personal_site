<!DOCTYPE html>
<html>
<head>
    <title>Random Data Page</title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vexflow/1.2.90/vexflow-min.js"></script>
    <script src="https://rawgit.com/0xfe/vexchords/master/releases/vexchords-min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script> -->
    <script src="/static/vexchords.dev.js"></script>
</head>
<body>
    <h1>Random Data Page</h1>
    <button id="updateButton">Update Paragraph</button>
    <p id="dataParagraph">Click the button to load random data.</p>

    <script>
        const updateButton = document.getElementById('updateButton');
        const dataParagraph = document.getElementById('dataParagraph');
        updateButton.addEventListener('click', () => {
            fetch('/data')
                .then(response => response.json())
                .then(data => {
                    // // Generate a random index
                    const randomIndex = Math.floor(Math.random() * data.length);

                    // // Get the random row from the data
                    const randomRow = data[randomIndex];

                    // // Update the paragraph with the random row
                    dataParagraph.textContent = JSON.stringify(randomRow);
                    // dataParagraph.textContent = data;
                })
                .catch(error => console.error(error));
        });
    </script>

    <!-- <canvas id='canvas'></canvas>
    <script>
        window.onload = function() {
            var canvas = document.getElementById('canvas');
            var context = canvas.getContext('2d');
            context.canvas.width  = 100;
            context.canvas.height = 120;

            var chordBox = new vexchords.ChordBox(context, {width: context.canvas.width, height: context.canvas.height});

            var chordShape = {
              name: 'A Major',
              positions: ['-', '1', '0', '2', '0'],
              fingers: ['-', '1', '0', '2', '0'],
            };

            chordBox.setChordShape(chordShape);
            chordBox.draw();
        }
    </script> -->

<div id="drawing" style="text-align: center;"></div>
  <div id="drawing2" style="text-align: center;"></div>
    <script>
      const sel = document.getElementById('drawing');
      const draw = vexchords.draw;

      draw(sel, {
        chord: [[1, 2], [2, 1], [3, 2], [4, 0], [5, 'x'], [6, 'x']]
      });

      draw(
        sel,
        {
          chord: [[1, 0], [2, 0], [6, 0]],
          position: 0,
          barres: [{ fromString: 5, toString: 3, fret: 2 }]
        },
        { bridgeColor: '#8a8', textColor: '#8a8' }
      );

      // Tiny
      draw(
        sel,
        {
          chord: [],
          position: 1,
          barres: [
            { fromString: 6, toString: 1, fret: 1 },
            { fromString: 5, toString: 3, fret: 3 }
          ]
        },
        {
          width: 30,
          height: 40,
          strokeColor: '#745',
          showTuning: false
        }
      );

      draw(
        sel,
        {
          chord: [[1, 2], [2, 1], [3, 2], [4, 0], [5, 'x'], [6, 'x']]
        },
        {
          width: 50,
          height: 60,
          showTuning: false
        }
      );

      draw(
        sel,
        {
          chord: [[1, 2], [2, 1], [3, 2], [4, 0], [5, 'x'], [6, 'x']]
        },
        {
          width: 30,
          height: 40,
          showTuning: false
        }
      );

      // 7 string
      draw(
        sel,
        {
          chord: [[1, 2], [2, 1], [3, 2], [4, 0], [5, 'x'], [6, 'x'], [7, 1]],
          tuning: ['B', 'E', 'A', 'D', 'G', 'B', 'E']
        },
        { numStrings: 7 }
      );

      // Stretch chord
      draw(
        sel,
        {
          chord: [[3, 3], [4, 5], [5, 7], [6, 'x']],
          position: 5,
          barres: [{ fromString: 6, toString: 1, fret: 1 }]
        },
        { height: 140, numFrets: 8, strokeColor: '#8a8' }
      );

      // Big
      draw(
        '#drawing2',
        {
          chord: [[1, 2, 2], [2, 1, 1], [3, 2, 3], [4, 0], [5, 'x'], [6, 'x']]
        },
        { width: 180, height: 220, defaultColor: '#745' }
      );

      // Bass
      draw(
        '#drawing2',
        {
          chord: [[1, 2, 'F#'], [2, 3, 'D'], [3, 2, 'A'], [4, 0]]
        },
        {
          width: 180,
          height: 220,
          numStrings: 4,
          defaultColor: '#37a',
          strokeWidth: 2,
          fretWidth: 2,
          fontWeight: 'normal'
        }
      );
    </script>
  </body>
</html>

